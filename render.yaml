# =========================================================
# Render Deployment Configuration
# Backend: FastAPI (Render)
# Frontend: React (Vercel, documented here)
# Database: MongoDB Atlas (external)
# =========================================================

services:
  - type: web
    name: news-classifier-api
    env: python
    plan: free
    rootDir: backend
    buildCommand: "pip install -r requirements.txt"
    startCommand: "python server.py"
    envVars:
      - key: MONGO_URL
        sync: false # nilai rahasia diatur langsung di dashboard Render
      - key: DB_NAME
        value: klasifikasi_berita
      - key: CORS_ORIGINS
        value: https://website-klasifikasi-berita.vercel.app
# =========================================================
# Optional: Documentation only
# The frontend React app is hosted separately on Vercel.
# These instructions are not deployed by Render.
# =========================================================
# If in the future you want to move frontend to Render too,
# you can uncomment the section below.

#  - type: web
#    name: news-classifier-frontend
#    env: static
#    plan: free
#    rootDir: frontend
#    buildCommand: "npm install && npm run build"
#    staticPublishPath: "build"
#    envVars:
#      - key: REACT_APP_BACKEND_URL
#        value: https://news-classifier-api.onrender.com
